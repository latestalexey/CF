//07 09 11 не используется, но вдруг пригодится
//аналогичная используется в документе БюджетМесяц
// Программно добавляет ДеревоБДР на форму
//
// Параметры
//  <Параметр1>  - <Тип.Вид> - <описание параметра>
//                 <продолжение описания параметра>
//  <Параметр2>  - <Тип.Вид> - <описание параметра>
//                 <продолжение описания параметра>
//
Процедура СоздатьДеревоБДР_РеквизитыФормы()

	//добавляем колонку СтатьяДР в рекв формы ДеревоБДР
	ТипыРеквизита = Новый Массив;
	ТипыРеквизита.Добавить(Тип("СправочникСсылка.СтатьиДоходовРасходов"));
	ТипыРеквизита.Добавить(Тип("Строка"));
	ОписаниеТиповРеквизита = Новый ОписаниеТипов(ТипыРеквизита);
	НовыйРеквизит = Новый РеквизитФормы(
										"СтатьяДР",
										ОписаниеТиповРеквизита,
										"ДеревоБДР",//путь
										"Статья",//заголовок
										Ложь//сохраняемые данные
										);
	ДобавляемыеРеквизиты = Новый Массив;
	ДобавляемыеРеквизиты.Добавить(НовыйРеквизит);
	ИзменитьРеквизиты(ДобавляемыеРеквизиты);
	
	//а теперь элемент формы (колонка) в Таблица1
	НовыйЭлемент = Элементы.Добавить("СтатьяДР",Тип("ПолеФормы"),Элементы.Таблица1);
	НовыйЭлемент.ПутьКДанным = "ДеревоБДР.СтатьяДР";
	НовыйЭлемент.Вид = ВидПоляФормы.ПолеВвода;
	НовыйЭлемент.ФиксацияВТаблице = ФиксацияВТаблице.Лево;
	
	//группы колонок
	МассивКолонокМесяцы = Новый Массив;
	Для сч = 1 по 13 Цикл
		МассивКолонокМесяцы.Добавить(Элементы.Добавить("Месяц"+сч,Тип("ГруппаФормы"),Элементы.Таблица1));
		МассивКолонокМесяцы[сч-1].Вид = ВидГруппыФормы.ГруппаКолонок;
		МассивКолонокМесяцы[сч-1].Заголовок = ПолучитьИмяМесяцаПоНомеру(сч);
		МассивКолонокМесяцы[сч-1].Группировка = ГруппировкаКолонок.Горизонтальная;
		МассивКолонокМесяцы[сч-1].ОтображатьВШапке = Истина;
	КонецЦикла;
	
	
	//теперь добавим колонки с планом
	ТипыРеквизита = Новый Массив;
	ТипыРеквизита.Добавить(Тип("Число"));
	ОписаниеТиповРеквизита = Новый ОписаниеТипов(ТипыРеквизита,,Новый КвалификаторыЧисла(7,0));
	
	ТипыРеквизита = Новый Массив;
	ТипыРеквизита.Добавить(Тип("Число"));
	ОписаниеТиповРеквизита3 = Новый ОписаниеТипов(ТипыРеквизита,,Новый КвалификаторыЧисла(3,0,ДопустимыйЗнак.Неотрицательный));
	
	ДобавляемыеРеквизиты = Новый Массив;
	
	Для сч = 1 по 13 Цикл
		НовыйРеквизитПлан = Новый РеквизитФормы(
											"План"+сч,
											ОписаниеТиповРеквизита,
											"ДеревоБДР",//путь
											"План",//заголовок
											Ложь//сохраняемые данные
											);
		НовыйРеквизитФакт = Новый РеквизитФормы(
											"Факт"+сч,
											ОписаниеТиповРеквизита,
											"ДеревоБДР",//путь
											"Факт",//заголовок
											Ложь//сохраняемые данные
											);											
		НовыйРеквизитРез = Новый РеквизитФормы(
											"Рез"+сч,
											ОписаниеТиповРеквизита3,
											"ДеревоБДР",//путь
											"Рез",//заголовок
											Ложь//сохраняемые данные
											);											
		
		ДобавляемыеРеквизиты.Добавить(НовыйРеквизитПлан);
		ДобавляемыеРеквизиты.Добавить(НовыйРеквизитФакт);
		ДобавляемыеРеквизиты.Добавить(НовыйРеквизитРез);
	КонецЦикла;		
	
	ИзменитьРеквизиты(ДобавляемыеРеквизиты);
	
	Для сч = 1 по 13 Цикл
		//а теперь элемент формы (колонка)
		//НовыйЭлемент = Элементы.Добавить("План"+сч,Тип("ПолеФормы"),ГруппаМесяц1);
		НовыйЭлемент = Элементы.Добавить("План"+сч,Тип("ПолеФормы"),МассивКолонокМесяцы[сч-1]);
		НовыйЭлемент.ПутьКДанным = "ДеревоБДР.План"+сч;
		НовыйЭлемент.Вид = ВидПоляФормы.ПолеВвода;
		НовыйЭлемент.РежимРедактирования = РежимРедактированияКолонки.ВходПриВводе;
		
		НовыйЭлемент = Элементы.Добавить("Факт"+сч,Тип("ПолеФормы"),МассивКолонокМесяцы[сч-1]);
		НовыйЭлемент.ПутьКДанным = "ДеревоБДР.Факт"+сч;
		НовыйЭлемент.Вид = ВидПоляФормы.ПолеВвода;
		НовыйЭлемент.РежимРедактирования = РежимРедактированияКолонки.ВходПриВводе;
		
		НовыйЭлемент = Элементы.Добавить("Рез"+сч,Тип("ПолеФормы"),МассивКолонокМесяцы[сч-1]);
		НовыйЭлемент.ПутьКДанным = "ДеревоБДР.Рез"+сч;
		НовыйЭлемент.Вид = ВидПоляФормы.ПолеВвода;
		НовыйЭлемент.РежимРедактирования = РежимРедактированияКолонки.ВходПриВводе;
		НовыйЭлемент.Заголовок = "%";

	КонецЦикла;
	
	//эти колонки на форме не видны
	//ЭтоГруппа
	ТипыРеквизита = Новый Массив;
	ТипыРеквизита.Добавить(Тип("Булево"));
	ОписаниеТиповРеквизита = Новый ОписаниеТипов(ТипыРеквизита,Новый КвалификаторыЧисла(7,0,ДопустимыйЗнак.Неотрицательный));
	НовыйРеквизит = Новый РеквизитФормы(
										"ЭтоГруппа",
										ОписаниеТиповРеквизита,
										"ДеревоБДР",//путь
										"Группа",//заголовок
										Ложь//сохраняемые данные
										);
	ДобавляемыеРеквизиты = Новый Массив;
	ДобавляемыеРеквизиты.Добавить(НовыйРеквизит);
	ИзменитьРеквизиты(ДобавляемыеРеквизиты);
	//ПриходРасход
	ТипыРеквизита = Новый Массив;
	ТипыРеквизита.Добавить(Тип("Строка"));
	ОписаниеТиповРеквизита = Новый ОписаниеТипов(ТипыРеквизита,Новый КвалификаторыЧисла(7,0,ДопустимыйЗнак.Неотрицательный));
	НовыйРеквизит = Новый РеквизитФормы(
										"ПриходРасход",
										ОписаниеТиповРеквизита,
										"ДеревоБДР",//путь
										"ПриходРасход",//заголовок
										Ложь//сохраняемые данные
										);
	ДобавляемыеРеквизиты = Новый Массив;
	ДобавляемыеРеквизиты.Добавить(НовыйРеквизит);
	ИзменитьРеквизиты(ДобавляемыеРеквизиты);
	
КонецПроцедуры // СоздатьДеревоБДР()
